

'use strict';

var Orchestrator=require('../'),
should=require('should');
require('mocha'),

describe('orchestrator',function(){
describe('_resetAllTasks()',function(){

it('should set done = false on all done tasks',function(done){
var orchestrator,task1,task2;


task1={
name:'test1',
fn:function(){},
done:!0},

task2={
name:'test2',
fn:function(){},
done:!0},



orchestrator=new Orchestrator,
orchestrator.tasks={
task1:task1,
task2:task2},



orchestrator._resetAllTasks(),


task1.done.should.equal(!1),
task2.done.should.equal(!1),
done();
}),

it('should not set done = false if done does not exist',function(done){
var orchestrator,task1,task2;


task1={
name:'test1',
fn:function(){}},


task2={
name:'test2',
fn:function(){}},




orchestrator=new Orchestrator,
orchestrator.tasks={
task1:task1,
task2:task2},



orchestrator._resetAllTasks(),


should.not.exist(task1.done),
should.not.exist(task2.done),
done();
});

});
});