


'use strict';

var Orchestrator=require('../'),
should=require('should');
require('mocha'),

describe('orchestrator',function(){
describe('task()',function(){

it('should return task if there is a task',function(done){
var orchestrator,name,task1,actual;


name='task1',
task1={
name:name,
fn:function(){}},



orchestrator=new Orchestrator,
orchestrator.tasks[name]=task1,


actual=orchestrator.task(name),


actual.should.equal(task1),
done();
}),

it('should return false if there is no such task',function(done){
var orchestrator,name,task1,actual;


name='task1',
task1={
name:name,
fn:function(){}},



orchestrator=new Orchestrator,
orchestrator.tasks[name]=task1,


actual=orchestrator.task('not'+name),


should.not.exist(actual),
done();
}),

it('should create a task if passed a second arg',function(done){
var orchestrator,name,fn,actual;


name='task1',
fn=function(){},


orchestrator=new Orchestrator,


actual=orchestrator.task(name,fn),


should.not.exist(actual),
should.exist(orchestrator.tasks[name]),
orchestrator.tasks[name].name.should.equal(name),
done();
});

});
});